# 答辩问答清单（针对本项目）

以下问题围绕本项目的真实实现与结构，附带你可以直接回答的要点。
建议按模块准备：项目概述 → 功能流程 → 数据库 → 代码实现 → 可改进点。

## 1. 项目概述

**Q: 这个系统解决了什么问题？目标用户是谁？**
- A: 面向“商家后台管理”的控制台系统，服务两类用户：管理员与商家。
- 管理员负责商家管理；商家负责自家信息与食品管理。

**Q: 本项目的核心功能有哪些？**
- A: 管理员登录、商家登录、商家管理（查/增/删）、食品管理（查/增/改/删）、CSV 导出。

**Q: 为什么选控制台实现？**
- A: 学习重点是业务流程、数据库操作与分层结构，控制台更易聚焦核心逻辑。

## 2. 功能流程与入口

**Q: 系统的入口有哪些？**
- A: `Main` 统一入口（选择管理员/商家），`ElmAdminEntry` 管理员端入口，`ElmBusinessEntry` 商家端入口。

**Q: 管理员端的业务流程是什么？**
- A: 登录 → 管理员菜单 → 搜索/查看/新增/删除商家 → 可导出商家列表。

**Q: 商家端的业务流程是什么？**
- A: 登录 → 商家菜单 → 查看/修改商家信息 → 更新密码 → 食品增删改查 → 导出食品。

## 3. 数据库与表设计

**Q: 项目数据库有哪些表？主要字段是什么？**
- A: `admin` / `business` / `food`。
- `admin`：管理员账号与密码。
- `business`：商家账号、名称、电话、地址、描述、密码。
- `food`：所属商家、名称、价格、描述、状态。

**Q: food 表中的状态字段怎么理解？**
- A: `food_status`，1 表示上架，0 表示下架；导出时转为中文显示。

**Q: 为什么在数据库操作中使用 PreparedStatement？**
- A: 预编译 + 占位符可以防止 SQL 注入，也便于参数绑定。

## 4. 代码结构与分层

**Q: 你如何进行分层？每层职责是什么？**
- A: `view` 负责控制台交互；`dao` 负责数据库读写；`po` 是实体对象；`utils` 是通用工具。

**Q: 你如何组织业务流程？**
- A: `AdminView` / `BusinessView` 驱动流程，`FoodService` 专注食品相关逻辑。

## 5. 核心实现细节

**Q: 登录是如何实现的？**
- A: DAO 层查询账户与密码，匹配成功返回对象，不匹配返回 null。

**Q: 输入校验怎么做的？**
- A: `InputUtil` 循环读取，数字解析失败会提示并重试。

**Q: CSV 导出为什么能保证 Excel 不乱码？**
- A: `CsvUtil` 写入 UTF-8 BOM，Excel 打开中文不会乱码。

**Q: 控制台输出美化是如何实现的？**
- A: 使用 `ConsoleUi` 统一菜单、提示与状态输出，添加图标与统一格式。

## 6. 异常处理与边界场景

**Q: 当数据为空时如何处理？**
- A: 列表为空时会提示“暂无数据”，避免空打印。

**Q: 数据库异常怎么处理？**
- A: DAO 层捕获异常并输出错误提示，返回安全值（null / false / 空列表）。

**Q: 输入错误或密码不一致怎么办？**
- A: 对输入进行校验并给出提示，流程中断或重新输入。

## 7. 可改进点（加分项）

**Q: 你认为系统还有哪些可以优化？**
- A: 增加分页与排序；密码加密存储；输入更严格校验；统一日志；权限控制。

**Q: 如果数据量很大，当前实现会有什么问题？**
- A: 全量查询 + 控制台展示会卡顿；可引入分页、条件过滤与索引优化。

**Q: 如何增强安全性？**
- A: 密码哈希 + 加盐；限制登录次数；隐藏错误细节；数据库最小权限账号。

## 8. 演示建议（答辩现场）

**推荐演示顺序**
1. 进入 `Main` → 选择管理员端
2. 管理员登录 → 查看商家列表 → 新增商家 → 导出商家 CSV
3. 退出 → 进入商家端 → 商家登录 → 食品增删改查 → 导出食品 CSV

**注意点**
- 提前确认 `DBUtil` 的账号密码。
- 数据库表需要先导入 `elm_admin.sql`。
- 如控制台图标不显示，可说明 `ConsoleUi` 可替换为纯文本。
